<!DOCTYPE html>
<html>

<head>
    <title>Page d'accueil</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="styles.css">
    <style>
    </style>
</head>

<body>
    <div class="container">
        <h1>Bienvenue sur notre questionnaire !</h1>
        <p>Entrez votre nom pour continuer:</p>
        <form id="usernameForm">
            <input type="text" class="input-field" id="username" name="username" placeholder="Votre nom">
            <input type="submit"> 
        </form>
    </div>

    <div class="footer">
        Fait par Victor
    </div>
    <script>
    document.getElementById('usernameForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Empêche la soumission classique du formulaire
        var username = document.getElementById('username').value;
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "http://127.0.0.1/user.php", true);
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    
        xhr.onreadystatechange = function() {
            if (this.readyState === XMLHttpRequest.DONE && this.status === 200) {
                // Action à effectuer quand la réponse du serveur est reçue
                alert(this.responseText); // Affiche la réponse du serveur
                
                // Redirection vers quizz.html
                window.location.href = "quizz.html";
            }
        };
    
        xhr.send("username=" + encodeURIComponent(username));
    });    
    </script>
</body>

</html>